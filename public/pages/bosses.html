<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Last Prey - Bosses</title>
  <link rel="stylesheet" href="../style.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"/>
</head>
<body>
  <div class="container">
    <div class="navbar-wrapper">
    <div id="navbarContainer">
      <header class="navbar">
        <div class="navbar-left">
          <a href="../index.html">
          <img src="../assets/ava.png" alt="The Last Prey" class="navbar-logo" />
          </a>  
          <nav class="navbar-menu">
            <a href="news.html">News</a>
            <div class="dropdown">
              <a class="dropdown-toggle">Game Modes</a>
              <div class="dropdown-menu">
                <a href="coop.html">Co-Op</a>
                <a href="battle-royale.html">Battle Royale</a>
                <a href="survival.html">Survival</a>
              </div>
            </div>
            <div class="dropdown">
              <a class="dropdown-toggle">Characters</a>
              <div class="dropdown-menu">
                <a href="main-characters.html">Main Characters</a>
                <a href="zombies.html">Zombies</a>
                <a href="bosses.html">Bosses</a>
              </div>
            </div>
            <a href="media.html">Media</a>
            <a href="about.html">About</a>
          </nav>
        </div>
        <div class="navbar-right">
          <img class="register-button" src="../assets/registerButton.png" id="openRegisterImg"></img>
          <!-- <button class="icon-btn login" title="Log in">REGISTER</button> -->
          <a href="#" class="cta-button angled">Download</a>
        </div>
      </header>
    </div>
    </div>
  <div id="objectsContainer">
  <div class="character-slider-wrapper">
    <button class="arrow left-arrow" onclick="slideCharacter(-1)">&#10094;</button>
    <div class="character-slider">
      <div class="character-slide">
        <section class="character-abilities-section">
          <div class="character-header">
            <img src="../assets/zombie6 icon_no_bg.png" alt="Character Portrait" class="character-portrait" />
            <div class="character-title">
              <h2>Crushers</h2>
              <button class="base-stats-btn">BASE STATS</button>
            </div>
          </div>
          <div class="abilities-container">
            <div class="ability-list">
              <h3>Profile</h3>
              <div class="ability-entry">
                <span class="key-icon">Estimated Age</span>
                <span class="ability-name">Unknown (Post-Mutation)</span>
              </div>
              <div class="ability-entry">
                <span class="key-icon">Host Origin</span>
                <span class="ability-name">Mutated Mauler</span>
              </div>
              <div class="ability-entry">
                <span class="key-icon">Infection Source</span>
                <span class="ability-name">Controlled Genetic Augmentation</span>
              </div>
              <div class="ability-entry">
                <span class="key-icon">Threat Level</span>
                <span class="ability-name">Very High</span>
              </div>
              <div class="ability-entry">
                <span class="key-icon">Behavior</span>
                <span class="ability-name">Rampaging, Unpredictable</span>
              </div>
              <div class="ability-entry">
                <span class="key-icon">Weakness</span>
                <span class="ability-name">Easily Distracted / Short Attention Span</span>
              </div>
            </div>
            <div class="ability-backstory-panel">
              <h2 class="ability-title">OVERVIEW</h2>
              <p class="ability-subtitle">"It's like a wrecking ball with legs — and barely half a brain."</p>
              <div class="backstory-content">
                <p>
                  Crushers are among the largest infected ever recorded. Their skin resembles dense stone plating, making them virtually immune to small arms fire. They exist to obliterate barriers and breach defenses.
                  <br/><br/>
                  When provoked, Crushers charge with enough force to collapse reinforced walls, often opening entry points for hordes that follow. Their momentum can also be turned into a liability — if timed correctly, they can be lured into environmental traps or dead ends.
                  <br/><br/>
                  Despite their overwhelming strength and resilience, Crushers are cognitively stunted. They often lose interest mid-fight.
                </p>
              </div>
            </div>
          </div>
        </section>
      </div>
      <div class="character-slide">
        <section class="character-abilities-section">
          <div class="character-header">
            <img src="../assets/zombie7 icon_no_bg.png" alt="Character Portrait" class="character-portrait" />
            <div class="character-title">
              <h2>Sutures</h2>
              <button class="base-stats-btn">BASE STATS</button>
            </div>
          </div>
          <div class="abilities-container">
            <div class="ability-list">
              <h3>Profile</h3>
              <div class="ability-entry">
                <span class="key-icon">Estimated Age</span>
                <span class="ability-name">Unknown (Post-Mutation)</span>
              </div>
              <div class="ability-entry">
                <span class="key-icon">Host Origin</span>
                <span class="ability-name">Mutated Corroders</span>
              </div>
              <div class="ability-entry">
                <span class="key-icon">Infection Source</span>
                <span class="ability-name">Experimental Parasite Strain</span>
              </div>
              <div class="ability-entry">
                <span class="key-icon">Threat Level</span>
                <span class="ability-name">Very High</span>
              </div>
              <div class="ability-entry">
                <span class="key-icon">Behavior</span>
                <span class="ability-name">Ranged</span>
              </div>
              <div class="ability-entry">
                <span class="key-icon">Weakness</span>
                <span class="ability-name">Overloaded Regeneration</span>
              </div>
            </div>
            <div class="ability-backstory-panel">
              <h2 class="ability-title">OVERVIEW</h2>
              <p class="ability-subtitle">"It weaponizes its own body?"</p>
              <div class="backstory-content">
                <p>
                  Sutures are an advanced mutation designed for ranged bio-attacks. Their bodies are stitched together by regenerated flesh, capable of rapid cellular reparation. Victims report being impaled by bone spikes or flayed by tendon-like projectiles hurled from a range.
                  <br/><br/>
                  Sutures Often retreat and regenerate before returning to strike again. In prolonged fights, they shed limbs and tissue to form deadly, fast-regrowing ammunition.
                  <br/><br/>
                  However, this regeneration comes at a biological cost. If forced to overuse their healing — whether through constant injury or excessive ranged attacks — their system enters a temporary failure state. During this time, they're highly vulnerable.
                </p>
              </div>
            </div>
          </div>
        </section>
      </div>
      <div class="character-slide">
        <section class="character-abilities-section">
          <div class="character-header">
            <img src="../assets/zombie4 icon_no_bg.png" alt="Character Portrait" class="character-portrait" />
            <div class="character-title">
              <h2>Prime Reaper</h2>
              <button class="base-stats-btn">BASE STATS</button>
            </div>
          </div>
          <div class="abilities-container">
            <div class="ability-list">
              <h3>Profile</h3>
              <div class="ability-entry">
                <span class="key-icon">Estimated Age</span>
                <span class="ability-name">Unknown</span>
              </div>
              <div class="ability-entry">
                <span class="key-icon">Host Origin</span>
                <span class="ability-name">Unknown</span>
              </div>
              <div class="ability-entry">
                <span class="key-icon">Infection Source</span>
                <span class="ability-name">Unknown</span>
              </div>
              <div class="ability-entry">
                <span class="key-icon">Threat Level</span>
                <span class="ability-name">Extreme</span>
              </div>
              <div class="ability-entry">
                <span class="key-icon">Behavior</span>
                <span class="ability-name">Unknown</span>
              </div>
              <div class="ability-entry">
                <span class="key-icon">Weakness</span>
                <span class="ability-name">Unknown</span>
              </div>
            </div>
          <img src="../assets/Claw_Mark.png" class="claw-mark" id="clawMark" />
            <div class="ability-backstory-panel">
              <h2 class="ability-title">OVERVIEW</h2>
              <p class="ability-subtitle">"If hell had a face, this would be it."</p>
              <div class="backstory-content">
              <p>
                The Prime Reaper is the culmination of decades of unethical bioweapon development. Engineered using tissue from dozens of mutated variants and subjected to relentless experimentation, this entity embodies destruction. It can launch acidic bile, shoot deadly claw-like projectiles, and incinerate targets with flamethrower-like breath.
                <br/><br/>
                Its regenerative capabilities are nearly limitless, recovering from catastrophic damage within seconds. It is capable of rapid tactical adaptation, seemingly learning from each encounter, and exhibits cunning and stalking behaviors uncommon among other infected.
                <br/><br/>
                Current field data reports **no confirmed weaknesses**. Every attempt to subdue or contain the subject has resulted in total squad losses. All personnel encountering the Prime Reaper are advised to evacuate immediately and initiate a full strike protocol. Engagement is not recommended under any circumstances.
              </p>
              </div>
            </div>
          </div>
        </section>
      </div>

    </div>
    <button class="arrow right-arrow" onclick="slideCharacter(1)">&#10095;</button>
  </div>
  </div>
  <div class="boss-overlay" id="bossOverlay">
    <!-- <img src="../assets/Claw_Mark.png" class="claw-mark" id="clawMark" /> -->
    <img src="../assets/claw.png" class="claw-swipe" id="clawSwipe" />
  </div>
  </div>
    <section class="background">
      <img src="../assets/BackgroundIMG.png" alt="Landing" class="background-img" />
    </section>

    <div class="background-overlay"></div>
    

    <!-- Login/Register form section (initially hidden) -->
    <div id="overlay" class="overlay hidden"></div>
    <div id="login-form" class="form-wrapper hidden">
      <button id="close-login" class="close-btn">&times;</button>
      <h1 class="logo">The Last Prey</h1>
      <p class="subtitle">Register to join the survival</p>

      <input type="text" id="inputField3" placeholder="Email" />
      <input type="text" id="inputField" placeholder="Username" />
      <input type="password" id="inputField2" placeholder="Password" />

      <button onclick="registerUser()" class="registerButton">Register</button>
      <p id="message" class="message"></p>
    </div>

  <script>
  let animating = false;
  let bossActivated = false;
  const slider = document.querySelector(".character-slider");
  let slides = document.querySelectorAll(".character-slide");

  let currentSlide = 1; // Start at first real slide (after clone)
  let isTransitioning = false;

  // Clone first and last slide
  const firstClone = slides[0].cloneNode(true);
  const lastClone = slides[slides.length - 1].cloneNode(true);

  slider.appendChild(firstClone);
  slider.insertBefore(lastClone, slides[0]);

  // Update slides NodeList after cloning
  slides = document.querySelectorAll(".character-slide");

  // Set initial position
  slider.style.transform = `translateX(-${currentSlide * 100}%)`;

  function slideCharacter(direction) {
    if (isTransitioning || animating) return; // Prevent spamming clicks
    isTransitioning = true;

    currentSlide += direction;
    slider.style.transition = "transform 0.5s ease-in-out";
    slider.style.transform = `translateX(-${currentSlide * 100}%)`;

    slider.addEventListener("transitionend", handleLoop, { once: true });
  }

  function handleLoop() {
    if (currentSlide === slides.length - 1) {
      slider.style.transition = "none";
      currentSlide = 1;
      slider.style.transform = `translateX(-${currentSlide * 100}%)`;
    } else if (currentSlide === 0) {
      slider.style.transition = "none";
      currentSlide = slides.length - 2;
      slider.style.transform = `translateX(-${currentSlide * 100}%)`;
    }

    // Trigger the boss overlay only once, when the last real slide is reached
    if (currentSlide === slides.length - 2 && !bossActivated) {
      animating = true;
      activateBossOverlay(currentSlide); 
      bossActivated = true;
    }

    isTransitioning = false;
  }

  function activateBossOverlay(currentSlide) {
    const overlay = document.getElementById("bossOverlay");
    const claw = document.getElementById("clawSwipe");
    const mark = document.getElementById("clawMark");

    overlay.style.opacity = 1;
    overlay.classList.add("active");

    claw.style.transform = "rotate(180deg)";
    claw.style.opacity = 1;

    setTimeout(() => {
      mark.style.transition = "opacity 0.5s ease-in-out";
      mark.style.opacity = 1;
      const bossSlide = slides[currentSlide];
      bossSlide.classList.add("show-claw-mark");
    }, 300);

    // Optional cleanup
    setTimeout(() => {
      claw.style.opacity = 0;
      overlay.classList.remove("active");
      animating = false;
    }, 2000);
  }
  function scalePage() {
    if (window.innerWidth >= 1920) return;
    const wrapper = document.getElementById('objectsContainer');
    const devlogSection = document.querySelector('.character-slider-wrapper');

    if (window.innerWidth <= 600) {
      // Reset scale & spacing on small screens
      wrapper.style.transform = 'scale(1)';
      wrapper.style.transformOrigin = 'top left';
      document.body.style.height = 'auto';
      devlogSection.style.paddingTop = '100px';
      devlogSection.style.marginBottom = '0px';
      return;
    }

    const baseWidth = 1920;
    const currentWidth = window.innerWidth;
    const scale = Math.min(1, currentWidth / baseWidth);

    // Apply scale with transform origin left top
    wrapper.style.transformOrigin = 'top left';
    wrapper.style.transform = `scale(${scale})`;

    // wrapper.style.margin = '0 auto';

    const scaledHeight = wrapper.offsetHeight * scale;
    document.body.style.height = `${scaledHeight}px`;

    const basePadding = 100;
    const scaledPadding = basePadding / scale;
    devlogSection.style.paddingTop = `${scaledPadding}px`;
    

    const pullUp = (1 - scale) * 929; 
    devlogSection.style.marginBottom = `-${pullUp}px`;
  }

  window.addEventListener('load', scalePage);
  window.addEventListener('resize', scalePage);

</script>

  <script src="./javascript/scaler.js"></script>

  <script src="../script.js"></script>
</body>
</html>
